!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var o=0;o<t.length;o++){var e=t[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{I2cP:function(o,e,i){"use strict";i.r(e),i.d(e,"TopicPageModule",function(){return M});var c=i("ofXK"),r=i("3Pt+"),s=i("TEn/"),a=i("tyNb"),b=i("1AJp"),l=i("vkgz"),d=i("fXoL"),p=i("P7CE"),f=i("npAJ");function g(n,t){1&n&&(d.Ob(0,"ion-col",7),d.Kb(1,"img",24),d.Nb())}var u=function(n){return["/profile",n]},h=function(n){return["/post",n]};function O(n,t){if(1&n&&(d.Mb(0),d.Ob(1,"ion-card"),d.Ob(2,"ion-grid",10),d.Ob(3,"ion-row"),d.Ob(4,"ion-col",16),d.Kb(5,"ion-icon",17),d.lc(6),d.Kb(7,"hr"),d.Kb(8,"ion-icon",18),d.lc(9),d.Nb(),d.Ob(10,"ion-col",19),d.Ob(11,"div",20),d.lc(12,"Posted by u/"),d.Ob(13,"a",21),d.lc(14),d.Nb(),d.lc(15),d.Nb(),d.Ob(16,"h3",22),d.Ob(17,"a",21),d.lc(18),d.Nb(),d.Nb(),d.Nb(),d.kc(19,g,2,0,"ion-col",23),d.Nb(),d.Nb(),d.Nb(),d.Lb()),2&n){var o=t.$implicit;d.zb(6),d.nc(" ",o.likes," "),d.zb(3),d.nc(" ",o.dislikes," "),d.zb(4),d.dc("routerLink",d.ec(8,u,o.user.id)),d.zb(1),d.mc(o.user.username),d.zb(1),d.nc(" - ",o.date,""),d.zb(2),d.dc("routerLink",d.ec(10,h,o.id)),d.zb(1),d.mc(o.title),d.zb(1),d.dc("ngIf",2==o.type)}}var m,C,x,P=function(n){return["/create/post/",n]},k=[{path:"",component:(m=function(){function o(t,e,i,c,r,s){n(this,o),this.route=t,this.feedService=e,this.authService=i,this.navCtrl=c,this.loadingCtrl=r,this.alertCtrl=s,this.topicInfos={id:0,title:"",description:""},this.listOfPosts=[],this.joinbtn="Join",this.joined=!1,this.isAuthenticated=!1}var e,i,c;return e=o,(i=[{key:"ngOnInit",value:function(){var n=this;this.authService.autoLogin().subscribe(function(t){n.isAuthenticated=t,console.log(t)}),this.topicId=this.route.snapshot.paramMap.get("id"),this.loadingCtrl.create({spinner:"crescent"}).then(function(t){t.present(),n.feedService.getTopicInfo(n.topicId).pipe(Object(l.a)(function(o){console.log(o),o.success?(o.topic.title=n.titleCaseWord(o.topic.title),n.topicInfos=o.topic,n.isAuthenticated&&o.joined&&(n.joined=!0,n.joinbtn="joined"),o.posts.forEach(function(t){t.title=n.titleCaseWord(t.title)}),n.listOfPosts=o.posts.sort(function(n,t){return n.likes>t.likes?-1:n.likes<t.likes?1:0}),t.dismiss()):(t.dismiss(),n.navCtrl.navigateRoot("/error/notfound"))})).subscribe()})}},{key:"titleCaseWord",value:function(n){return n?n[0].toUpperCase()+n.substr(1):n}},{key:"getDesc",value:function(){if(this.topicInfos.description)return this.topicInfos.description}},{key:"joinTopic",value:function(){var n=this;this.isAuthenticated?(this.joinbtn="Joining",this.loadingCtrl.create({spinner:"crescent"}).then(function(t){t.present(),n.feedService.joinTopic(n.topicId).pipe(Object(l.a)(function(o){console.log(o),o.success?(n.joined=!0,n.joinbtn="joined",t.dismiss()):(t.dismiss(),n.alertCtrl.create({header:"Something wrong",message:"Please try again later ...",buttons:["Ok"]}).then(function(n){n.present()}))},function(o){console.log(o),t.dismiss(),n.alertCtrl.create({header:"An error has occured",message:o.error.message?o.error.message:"Failed to communicate with server. Please try again later ...",buttons:["Ok"]}).then(function(n){n.present()})})).subscribe(),t.dismiss(),n.joined=!0,n.joinbtn="Joined"})):this.navCtrl.navigateRoot("/login")}}])&&t(e.prototype,i),c&&t(e,c),o}(),m.\u0275fac=function(n){return new(n||m)(d.Jb(a.a),d.Jb(p.a),d.Jb(f.a),d.Jb(s.H),d.Jb(s.G),d.Jb(s.a))},m.\u0275cmp=d.Db({type:m,selectors:[["app-topic"]],decls:33,vars:9,consts:[[3,"fullscreen"],[1,"backgrnd"],[1,"imgContainer"],["offset","2","size","2"],["src","../../../assets/topic.png","alt","",1,"image"],["size","4"],[1,"topicTitle"],["size","2"],["expand","block","fill","clear",1,"postbtn",3,"disabled","click"],["size","6","offset","2",1,"postscards"],["fixed",""],[4,"ngFor","ngForOf"],[1,"widget","ion-align-items-center"],[1,"about"],[1,"desc"],["fill","clear",1,"postcrt",3,"routerLink"],["size","1",1,"likescase","ion-text-center"],["name","heart-outline"],["name","heart-dislike-outline"],["size","9"],[1,"postedby"],[3,"routerLink"],[1,"postlink"],["size","2",4,"ngIf"],["src","../../../assets/event-invitation-redimg.jpg",1,"thumbnail"]],template:function(n,t){1&n&&(d.Ob(0,"ion-header"),d.Kb(1,"ion-toolbar"),d.Nb(),d.Ob(2,"ion-content",0),d.Kb(3,"div",1),d.Ob(4,"div",2),d.Ob(5,"ion-grid"),d.Ob(6,"ion-row"),d.Ob(7,"ion-col",3),d.Kb(8,"img",4),d.Nb(),d.Ob(9,"ion-col",5),d.Ob(10,"div",6),d.lc(11),d.Nb(),d.Nb(),d.Ob(12,"ion-col",7),d.Ob(13,"ion-button",8),d.Wb("click",function(){return t.joinTopic()}),d.lc(14),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Ob(15,"ion-grid"),d.Ob(16,"ion-row"),d.Ob(17,"ion-col",9),d.Ob(18,"ion-grid",10),d.Ob(19,"ion-row"),d.Ob(20,"ion-col"),d.kc(21,O,20,12,"ng-container",11),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Ob(22,"ion-col",7),d.Ob(23,"div",12),d.Ob(24,"h4",13),d.lc(25,"About the topic !"),d.Nb(),d.Kb(26,"hr"),d.Ob(27,"p",14),d.lc(28),d.Nb(),d.Kb(29,"hr"),d.Ob(30,"ion-button",15),d.lc(31," Create Post "),d.Nb(),d.Kb(32,"hr"),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb()),2&n&&(d.zb(2),d.dc("fullscreen",!0),d.zb(9),d.nc(" ",t.topicInfos.title," "),d.zb(2),d.dc("disabled",t.joined),d.zb(1),d.nc(" ",t.joinbtn," "),d.zb(7),d.dc("ngForOf",t.listOfPosts),d.zb(7),d.nc(" ",t.getDesc()," "),d.zb(2),d.dc("routerLink",d.ec(7,P,t.topicId)))},directives:[s.p,s.D,s.m,s.o,s.x,s.l,s.f,c.h,s.J,a.h,s.h,s.q,a.i,c.i],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f2f2f2}ion-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #bbb;margin:0 0 0 10px;border-radius:0;text-decoration:none}h2.topics[_ngcontent-%COMP%]{margin-left:20px;border-bottom:1px solid #bbb;color:#adadad}ion-toolbar[_ngcontent-%COMP%]{--ion-background-color:#c58f8f;color:#fff;font-family:Courier New,Courier,sans-serif}ion-title[_ngcontent-%COMP%]{font-size:17px}.widget[_ngcontent-%COMP%]{float:left;width:100%;background-color:#fff;border-left:1px solid #e4e4e4;border-right:1px solid #e4e4e4;border-bottom:1px solid #e4e4e4;margin-bottom:20px;-ms-box-shadow:0 2px #e4e4e4;-o-box-shadow:0 2px #e4e4e4;box-shadow:0 2px #e4e4e4;text-align:center}.backgrnd[_ngcontent-%COMP%]{height:80px;width:100%;background-color:#c58f8f}.image[_ngcontent-%COMP%]{position:absolute;height:100px;width:100px;border-radius:50%;left:50%;transform:translate(-30%,-60%)}.imgContainer[_ngcontent-%COMP%]{min-height:70px;width:100%;background-color:#fff}.topicTitle[_ngcontent-%COMP%]{padding-top:10px;font:normal x-small verdana,arial,helvetica,sans-serif;color:#772727;font-size:28px;font-weight:500;line-height:32px;overflow:hidden}.likescase[_ngcontent-%COMP%]{background-color:#f2f2f2;padding-top:10px}ion-card[_ngcontent-%COMP%]{margin-top:10px}a[_ngcontent-%COMP%]{--color:#c58f8f}.postedby[_ngcontent-%COMP%]{padding:0 0 0 15px}.postedby[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#737373;text-decoration:none}h3.postlink[_ngcontent-%COMP%]{padding:0 0 5px 15px}h3.postlink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#353535;text-decoration:none}h6.topiclink[_ngcontent-%COMP%]{padding:5px 0 0 15px;margin:0}h6.topiclink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#737373;text-decoration:none}img.thumbnail[_ngcontent-%COMP%]{border-radius:50%}ion-col.postscards[_ngcontent-%COMP%]{--ion-background-color:#fff}.about[_ngcontent-%COMP%]{background-color:#c58f8f;margin:0;padding-top:10px;padding-bottom:10px;color:#fff}ion-button.postbtn[_ngcontent-%COMP%]{background-color:#e06b56;color:#fff;font-weight:700;border-radius:10px;margin-top:5%}p.desc[_ngcontent-%COMP%]{border-bottom:1px solid f2f2f2}ion-button.postcrt[_ngcontent-%COMP%]{width:75%;background-color:#e06b56;color:#fff;font-weight:700;border-radius:15px}"]}),m)},{path:"create",loadChildren:function(){return i.e(3).then(i.bind(null,"b5JN")).then(function(n){return n.CrtopicPageModule})},canActivate:[b.a]}],v=((x=function t(){n(this,t)}).\u0275mod=d.Hb({type:x}),x.\u0275inj=d.Gb({factory:function(n){return new(n||x)},imports:[[a.j.forChild(k)],a.j]}),x),M=((C=function t(){n(this,t)}).\u0275mod=d.Hb({type:C}),C.\u0275inj=d.Gb({factory:function(n){return new(n||C)},imports:[[c.b,r.e,s.E,v]]}),C)}}])}();